<Project Sdk="Microsoft.NET.Sdk">
 <PropertyGroup>
  <TargetFramework>net472</TargetFramework>
  <LangVersion>9.0</LangVersion>
  <Nullable>enable</Nullable>
  <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
  <DebugType>Full</DebugType>
  <AppendTargetFrameworkToOutputPath>false</AppendTargetFrameworkToOutputPath>
  <ProduceReferenceAssembly>false</ProduceReferenceAssembly>
  <CopyLocalLockfileAssemblies>true</CopyLocalLockfileAssemblies>
  <Platforms>x64;x86</Platforms>
  <OutputType>Library</OutputType>
  <UseWindowsForms>true</UseWindowsForms>
  <Authors>Pohky</Authors>
  <Product>ReClass.NET Plugin</Product>
  <Description>FFXIVClientStructs Plugin</Description>
  <Version>1.0.0.0</Version>
  <GitHub>$(USERPROFILE)\Documents\GitHub\</GitHub>
  <ReClass>C:\Tools\ReClass\$(Platform)\ReClass.NET.exe</ReClass>
  <DevOut>C:\Tools\ReClass\$(Platform)\Plugins\</DevOut>
 </PropertyGroup>

 <ItemGroup>
  <PackageReference Include="YamlDotNet" Version="11.2.1" />
  <Reference Include="ReClass.NET" HintPath="$(ReClass)" Private="false" />
  <!--<ProjectReference Include="$(GitHub)ReClass.NET\ReClass.NET\ReClass.NET.csproj" Private="false" />-->
 </ItemGroup>

 <ItemGroup>
   <Folder Include="Data\" />
 </ItemGroup>

 <Target Name="CopyDev" AfterTargets="Build">
  <ItemGroup>
   <CopyFiles Include="$(OutputPath)$(AssemblyName).dll" />
   <CopyFiles Include="$(OutputPath)YamlDotNet.dll" />
  </ItemGroup>
  <Message Text="Copying: @(CopyFiles) to $(DevOut)" Importance="High" />
  <Copy SourceFiles="@(CopyFiles)" DestinationFolder="$(DevOut)" />
 </Target>

 <Target Name="CleanDev" AfterTargets="Clean">
  <ItemGroup>
   <CleanFiles Include="$(DevOut)$(AssemblyName).dll" />
   <CleanFiles Include="$(DevOut)YamlDotNet.dll" />
  </ItemGroup>
  <Message Text="Deleting: @(CleanFiles)" Importance="High" />
  <Delete Files="@(CleanFiles)" />
 </Target>
</Project>